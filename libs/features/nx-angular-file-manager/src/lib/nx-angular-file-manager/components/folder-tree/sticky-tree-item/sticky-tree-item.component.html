<div class="sticky-tree-item">
  <!-- Sticky Header -->
  <div
    [id]="'nx-fm-sticky-header-' + file.id"
    class="header"
    (click)="onItemClick()"
    (contextmenu)="onContextMenu($event)">
    <div class="title">
      <button class="btn-chevron" (click)="onChevronClick($event)">
        @if (file.isExpanded) {
          <i-lucide [img]="ChevronDown" class="direction-chevron"></i-lucide>
        } @else {
          <i-lucide [img]="ChevronRight" class="direction-chevron"></i-lucide>
        }
      </button>

      <span>
        {{ file.name }}
      </span>
    </div>
  </div>

  @if (file.isExpanded) {
    @if (file.hasItems) {
      @for (_file of file.items; track $index) {
        <nx-fm-tree-item [file]="_file" />
      }
    } @else {
      <nx-fm-tree-item [file]="file" />
    }
  }
</div>
